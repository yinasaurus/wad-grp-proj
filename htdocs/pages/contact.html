<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - GoGreenHub</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="app">
        <nav class="navbar navbar-expand-lg navbar-dark">
            <div class="container">
                <a class="navbar-brand" :href="isBusinessPartner ? 'partner_dashboard.html' : 'index.html'">
                    <i class="fas fa-leaf me-2"></i>GoGreenHub
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <!-- Business Navbar -->
                        <template v-if="authInitialized && isBusinessPartner">
                            <li class="nav-item"><a class="nav-link" href="partner_dashboard.html">Dashboard</a></li>
                            <li class="nav-item"><a class="nav-link" href="directory.html">Directory</a></li>
                            <li class="nav-item"><a class="nav-link" href="forum.html">Community</a></li>
                            <li class="nav-item"><a class="nav-link" href="event.html">Events</a></li>
                            <li class="nav-item" v-if="isLoggedIn">
                                <a class="nav-link" href="messages_business.html">Messages</a>
                            </li>
                            <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                        </template>
                        <!-- Consumer Navbar -->
                        <template v-else-if="authInitialized">
                            <li class="nav-item">
                                <a class="nav-link" href="index.html">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="directory.html">Directory</a>
                            </li>
                            <li class="nav-item"><a class="nav-link" href="forum.html">Community</a></li>
                            <li class="nav-item"><a class="nav-link" href="event.html">Events</a></li>
                            <li class="nav-item" v-if="isLoggedIn">
                                <a class="nav-link" href="messages.html">Messages</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="about.html">About</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="contact.html">Contact</a>
                            </li>
                        </template>
                        <template v-else>
                            <li class="nav-item">
                                <a class="nav-link" href="index.html">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="directory.html">Directory</a>
                            </li>
                            <li class="nav-item"><a class="nav-link" href="forum.html">Community</a></li>
                            <li class="nav-item"><a class="nav-link" href="event.html">Events</a></li>
                            <li class="nav-item">
                                <a class="nav-link" href="about.html">About</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="contact.html">Contact</a>
                            </li>
                        </template>
                    </ul>
                    
                    <div class="auth-block">
                        <template v-if="authInitialized">
                            <template v-if="!isLoggedIn">
                                <a href="login.html" class="btn btn-outline-light btn-sm">
                                    <i class="fas fa-sign-in-alt me-1"></i>Sign In
                                </a>
                                <a href="register.html" class="btn btn-outline-light btn-sm">
                                    <i class="fas fa-user-plus me-1"></i>Register
                                </a>
                                <div class="dropdown ms-2" v-if="!isLoggedIn || !isBusinessPartner">
                                <button class="btn btn-light btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown">
                                    <i class="fas fa-building me-1"></i>For Businesses
                                </button>
                                <ul class="dropdown-menu dropdown-menu-end">
                                    <li><a class="dropdown-item" href="register_business.html">
                                        <i class="fas fa-store me-2"></i>Register Green Business
                                    </a></li>
                                    <li><a class="dropdown-item" href="login_business.html">
                                        <i class="fas fa-sign-in-alt me-2"></i>Business Sign In
                                    </a></li>
                                </ul>
                            </div>
                            </template>
                            
                            <template v-else>
                                <!-- Business User Dropdown -->
                                <div v-if="isBusinessPartner" class="dropdown">
                                    <button class="btn btn-light btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="fas fa-user-circle me-1"></i>{{ userName }}
                                    </button>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li>
                                            <a class="dropdown-item fw-bold" href="partner_dashboard.html">
                                                <i class="fas fa-tachometer-alt me-2"></i>Partner Dashboard
                                            </a>
                                        </li>
                                        <li><hr class="dropdown-divider"></li>
                                        <li>
                                            <a class="dropdown-item" href="#" @click.prevent="viewPublicProfile($event)">
                                                <i class="fas fa-eye me-2"></i>View Public Profile
                                            </a>
                                        </li>
                                        <li><hr class="dropdown-divider"></li>
                                        <li>
                                            <a class="dropdown-item" href="#" @click.prevent="goToSavedCompanies">
                                                <i class="fas fa-heart me-2 text-danger"></i>Saved Companies
                                            </a>
                                        </li>
                                        <li><hr class="dropdown-divider"></li>
                                        <li>
                                            <a class="dropdown-item" href="#" @click.prevent="logout">
                                                <i class="fas fa-sign-out-alt me-2"></i>Logout
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                                <!-- Consumer User Dropdown -->
                                <div v-else class="dropdown">
                                    <button class="btn btn-light btn-sm dropdown-toggle position-relative" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="fas fa-user-circle me-1"></i>{{ userName }}
                                        <span v-if="unreadCount > 0" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" style="font-size: 0.6rem; padding: 0.2rem 0.3rem;">
                                            {{ unreadCount > 9 ? '9+' : unreadCount }}
                                        </span>
                                    </button>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li>
                                            <a class="dropdown-item fw-bold d-flex align-items-center justify-content-between" href="user_account.html">
                                                <span><i class="fas fa-user me-2"></i>My Profile</span>
                                                <span v-if="unreadCount > 0" class="badge bg-danger ms-2" style="font-size: 0.65rem; padding: 0.2rem 0.4rem;">{{ unreadCount > 9 ? '9+' : unreadCount }}</span>
                                            </a>
                                        </li>
                                        <li><hr class="dropdown-divider"></li>
                                        <li>
                                            <a class="dropdown-item" href="user_account.html#interests">
                                                <i class="fas fa-heart me-2"></i>My Interests
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item" href="user_account.html#profile">
                                                <i class="fas fa-cog me-2"></i>Settings
                                            </a>
                                        </li>
                                        <li><hr class="dropdown-divider"></li>
                                        <li>
                                            <a class="dropdown-item" href="register_business.html">
                                                <i class="fas fa-plus me-2"></i>List Your Business
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                                <button v-if="!isBusinessPartner" class="btn btn-outline-light btn-sm" @click="logout">
                                    <i class="fas fa-sign-out-alt me-1"></i>Logout
                                </button>
                            </template>
                        </template>
                    </div>
                    
                </div>
            </div>
        </nav>

        <div class="hero-section">
            <div class="container">
                <h1><i class="fas fa-envelope me-3"></i>Get In Touch</h1>
                <p class="lead">We'd love to hear from you. Connect with us through any of the channels below.</p>
            </div>
        </div>

        <div class="container content-section py-5">
            <!-- Contact Methods Grid -->
            <div class="row g-4 mb-5">
                <div class="col-md-4">
                    <div class="contact-method-card text-center">
                        <div class="contact-icon-wrapper">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <h4 class="mt-4 mb-3">Visit Us</h4>
                        <p class="text-muted mb-2">10 Anson Rd, #03-17 International Plaza</p>
                        <p class="text-muted mb-3">Singapore 079903</p>
                        <div class="d-flex gap-2 justify-content-center">
                            <a href="https://www.google.com/maps/search/go+green" target="_blank" class="btn btn-sm btn-success">
                                <i class="fas fa-map-marked-alt me-1"></i>Google Maps
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="contact-method-card text-center">
                        <div class="contact-icon-wrapper">
                            <i class="fas fa-phone-alt"></i>
                        </div>
                        <h4 class="mt-4 mb-3">Call Us</h4>
                        <p class="text-muted mb-2">+65 1234 5678</p>
                        <p class="text-muted small">Mon-Fri: 9AM - 6PM</p>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="contact-method-card text-center">
                        <div class="contact-icon-wrapper">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <h4 class="mt-4 mb-3">Email Us</h4>
                        <p class="text-muted mb-2">
                            <a href="mailto:support@greenbiz.com" class="text-decoration-none text-success">
                                support@greenbiz.com
                            </a>
                        </p>
                        <p class="text-muted small">We respond within 24 hours</p>
                    </div>
                </div>
            </div>

            <!-- Social Media Section -->
            <div class="social-connect-section text-center mb-5">
                <h3 class="mb-4"><i class="fas fa-share-alt me-2"></i>Connect With Us</h3>
                <p class="text-muted mb-4">Follow us on social media for updates, tips, and community highlights</p>
                <div class="social-links d-flex justify-content-center gap-3 flex-wrap">
                    <a href="https://www.instagram.com/gogreen.hub?utm_source=qr&igsh=MTBjcmx4eHh1YzRobA==" class="social-link" aria-label="Instagram" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://x.com/gogreenhub14864?t=E_yRMW1ZZw96qN6qPFuD7A&s=35" class="social-link" aria-label="X (formerly Twitter)" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-x-twitter"></i>
                    </a>
                    <a href="https://www.linkedin.com/in/gogreenhub-temporary-last-name-baa962395?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app" class="social-link" aria-label="LinkedIn" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a href="https://youtube.com/@gogreenhubsmu?si=YF51luZdyOaiTOI9" class="social-link" aria-label="YouTube" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-youtube"></i>
                    </a>
                </div>
            </div>

            <!-- Office Hours Section -->
            <div class="office-hours-section">
                <div class="hours-card">
                    <h3 class="mb-4"><i class="fas fa-clock me-2"></i>Office Hours</h3>
                    <div class="row g-3" style="align-items: stretch;">
                        <div class="col-md-3 d-flex">
                            <div class="hours-item w-100">
                                <span class="day">Monday - Friday</span>
                                <span class="time">
                                    <span class="opening-time">9:00 AM</span>
                                    <span class="time-separator">-</span>
                                    <span class="closing-time">6:00 PM</span>
                                </span>
                            </div>
                        </div>
                        <div class="col-md-3 d-flex">
                            <div class="hours-item w-100">
                                <span class="day">Saturday</span>
                                <span class="time">
                                    <span class="opening-time">10:00 AM</span>
                                    <span class="time-separator">-</span>
                                    <span class="closing-time">4:00 PM</span>
                                </span>
                            </div>
                        </div>
                        <div class="col-md-3 d-flex">
                            <div class="hours-item w-100">
                                <span class="day">Sunday</span>
                                <span class="time">Closed</span>
                            </div>
                        </div>
                        <div class="col-md-3 d-flex">
                            <div class="hours-item w-100">
                                <span class="day">Public Holidays</span>
                                <span class="time">Closed</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div style="height: 60px;"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script type="module">
        import { authMixin } from './js/auth-mixin.js';
        import { notificationMixin } from './js/notification-mixin.js';
        const { createApp } = Vue;

        createApp({
            mixins: [authMixin, notificationMixin],
            data() {
                return {}
            },
            methods: {
                async viewPublicProfile(event) {
                    if (event) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    let businessIdToUse = this.businessId;
                    
                    if (!businessIdToUse || isNaN(businessIdToUse)) {
                        try {
                            const response = await fetch('api/bridge.php?action=get_user', {
                                method: 'GET',
                                credentials: 'include'
                            });
                            
                            if (response.ok) {
                                const data = await response.json();
                                if (data.business?.businessId) {
                                    businessIdToUse = data.business.businessId;
                                } else if (data.user?.businessId) {
                                    businessIdToUse = data.user.businessId;
                                }
                            }
                        } catch (error) {
                            console.error('Error fetching business ID:', error);
                        }
                    }
                    
                    if (!businessIdToUse || isNaN(businessIdToUse) || businessIdToUse <= 0) {
                        alert('Unable to load business ID. Please access this from the Partner Dashboard.');
                        return;
                    }
                    
                    businessIdToUse = parseInt(businessIdToUse);
                    window.location.href = 'business_profile.html?id=' + businessIdToUse;
                },
                setActiveNavLink() {
                    this.$nextTick(() => {
                        const currentPage = window.location.pathname.split('/').pop() || 'index.html';
                        const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
                        
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            const linkHref = link.getAttribute('href');
                            if (linkHref && (linkHref === currentPage || (currentPage === '' && linkHref === 'index.html'))) {
                                link.classList.add('active');
                            }
                        });
                    });
                }
            },
            mounted() {
                // Set active nav link after component is mounted
                this.setActiveNavLink();
            },
            watch: {
                authInitialized(newVal) {
                    // Set active nav link when auth is initialized and navbar is rendered
                    if (newVal) {
                        this.setActiveNavLink();
                    }
                }
            }
        }).mount('#app');
    </script>
</body>
</html>